"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[298],{9018:(e,a,l)=>{l.d(a,{$:()=>o});const i={"heading-primary":"FilterDate_heading-primary__jj0iZ",filter__container:"FilterDate_filter__container__cF3TW"};var n=l(4858),t=l(9542),s=l(579);const r={from:"",to:""},o=e=>{let{onSubmitData:a,isLoading:l}=e;const{register:o,handleSubmit:c}=(0,n.mN)({defaultValues:r});return(0,s.jsx)("div",{className:i.filter,children:(0,s.jsx)("div",{className:i.filter__container,children:(0,s.jsxs)("form",{onSubmit:c((async e=>{a(e)})),children:[(0,s.jsx)(t.pd,{type:"date",label:"From",name:"from",register:o,required:!0}),(0,s.jsx)(t.pd,{type:"date",label:"To",name:"to",register:o,required:!0}),(0,s.jsx)(t.$n,{mode:"main",isLoading:l,children:"Filter"})]})})})}},4791:(e,a,l)=>{l.d(a,{$k:()=>t,Ai:()=>s,EU:()=>o,PD:()=>r,SR:()=>c});var i=l(6717),n=l(4997);const t=async(e,a,l)=>await(0,i.F)("/guest/create",{method:n.y8.POST,data:JSON.stringify({formData:e,propertyId:a,propertyName:l})}),s=async(e,a)=>await(0,i.F)("/guest/delete",{method:n.y8.POST,data:JSON.stringify({guestId:e,propertyName:a})}),r=async e=>await(0,i.F)("/guest/fetch-future-guests",{method:n.y8.POST,data:JSON.stringify({propertyId:e})}),o=async e=>await(0,i.F)("/guest/fetch-past-guests",{method:n.y8.POST,data:JSON.stringify({propertyId:e})}),c=async e=>await(0,i.F)("/guest/fetch",{method:n.y8.POST,data:JSON.stringify({skip:e.skip,limit:e.limit,from:e.from,to:e.to})})},443:(e,a,l)=>{l.r(a),l.d(a,{default:()=>u});var i=l(5043);const n={"heading-primary":"Bookings_heading-primary__+WKce",bookings__pagination:"Bookings_bookings__pagination__-hWpD",bookings__disclaimer:"Bookings_bookings__disclaimer__ozO4J",bookings__filter:"Bookings_bookings__filter__GUhlJ",bookings__data:"Bookings_bookings__data__w8hdA",delete__container:"Bookings_delete__container__fHA6e",delete__image:"Bookings_delete__image__ok9HB",delete__actions:"Bookings_delete__actions__SZ6Jc",delete__heading:"Bookings_delete__heading__OvUOy"};var t=l(4791),s=l(9542),r=l(9018),o=l(2688),c=l(6148),d=l(3538),m=l(579);const u=()=>{const e=(0,c.j)(),[a,l]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!0),[h,v]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[p,_]=(0,i.useState)(null),[k,f]=(0,i.useState)(null),[x,A]=(0,i.useState)(1),[j]=(0,i.useState)(10),w=async(e,a)=>{try{const l=await(0,t.SR)({skip:Number((x-1)*j),limit:j,from:e||"",to:a||""});l&&200===l.status&&(f(l.data.guests),_(l.data.number))}catch(l){console.log(l)}finally{g(!1)}},S=e=>{e&&v(e),y(!0)},C=()=>{v(null),y(!1)};return(0,i.useEffect)((()=>{w()}),[x]),u?(0,m.jsx)(s.aH,{}):(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(s.Xr,{isOpen:b,onClose:C,children:(0,m.jsx)("div",{className:n.delete,children:(0,m.jsxs)("div",{className:n.delete__container,children:[(0,m.jsx)("div",{className:n.delete__image,children:(0,m.jsx)("img",{src:"/images/exclamation.png",alt:"Exclamation"})}),(0,m.jsxs)("div",{className:n.delete__content,children:[(0,m.jsx)("p",{className:n.delete__heading,children:"Delete Guest"}),(0,m.jsxs)("p",{className:n.delete__text,children:["Are you sure you want to delete guest ",h&&h.name," "]})]}),(0,m.jsxs)("div",{className:n.delete__actions,children:[(0,m.jsx)(s.$n,{mode:"slate-grey",onClick:C,children:"Cancel"}),(0,m.jsx)(s.$n,{mode:"danger",onClick:async()=>{if(h){g(!0);try{const a=await(0,t.Ai)(h._id,h.propertyId.name);a&&200===a.status&&(await w(),y(!1),e((0,d.Q)({type:"success",text:a.data.message})))}catch(a){console.error(a)}finally{g(!1)}}},isLoading:u,children:"Delete"})]})]})})}),(0,m.jsx)("div",{className:n.bookings,children:(0,m.jsxs)("div",{className:n.bookings__container,children:[k&&(0,m.jsx)("div",{className:n.bookings__filter,children:(0,m.jsx)(r.$,{onSubmitData:async e=>{await w(e.from,e.to)},isLoading:a})}),k&&k.length>0?(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)("div",{className:n.bookings__data,children:(0,m.jsxs)(s.XI,{title:"Bookings",children:[(0,m.jsx)(s.nd,{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Name"}),(0,m.jsx)("th",{children:"Phone"}),(0,m.jsx)("th",{children:"Check In"}),(0,m.jsx)("th",{children:"Check Out"}),(0,m.jsx)("th",{children:"Added By"}),(0,m.jsx)("th",{children:"Property"}),(0,m.jsx)("th",{children:"Actions"})]})}),(0,m.jsx)(s.BF,{children:k&&k.map((e=>(0,m.jsx)(o.Tt,{hasProperty:!0,guest:e,onDelete:S},e._id.toString())))})]})}),(0,m.jsx)("div",{className:n.bookings__pagination,children:(0,m.jsx)(s.dK,{currentPage:x,postsPerPage:j,totalPosts:p||1,paginate:e=>A(e)})})]}):(0,m.jsxs)("div",{className:n.bookings__disclaimer,children:[(0,m.jsx)("h1",{children:"No Guests Yet!"}),(0,m.jsx)("p",{children:"It looks like you don't have any bookings at the moment."})]})]})})]})}},7198:(e,a,l)=>{l.d(a,{$:()=>t,u:()=>s});const i=(e,a)=>a.map((a=>{let{name:l,label:i}=a;return((e,a,l)=>({name:a,value:"summary.".concat(e,".").concat(a,".isAvailable"),label:l,rules:{},icon:{type:"image",path:"".concat(n,"/").concat(a,".png")}}))(e,l,i)})),n="/images/icons",t={summary:{general:i("general",[{name:"workspace",label:"Workspace"},{name:"parking",label:"Parking"},{name:"petFriendly",label:"Pet Friendly"},{name:"tv",label:"TV"},{name:"wifi",label:"Wi-Fi"},{name:"ventilation",label:"Ventilation"},{name:"elevator",label:"Lift"}]),kitchen:i("kitchen",[{name:"microwave",label:"Microwave"},{name:"oven",label:"Oven"},{name:"hob",label:"Hob"},{name:"fridge",label:"Fridge"},{name:"freezer",label:"Freezer"},{name:"kettle",label:"Kettle"},{name:"toaster",label:"Toaster"},{name:"dishwasher",label:"Dishwasher"}]),laundry:i("laundry",[{name:"washingMachine",label:"Washing Machine"},{name:"clothesHorse",label:"Clothes Horse"},{name:"iron",label:"Iron"},{name:"tumbleDryer",label:"Tumble Dryer"}]),outside:i("outside",[{name:"garden",label:"Garden"},{name:"balcony",label:"Balcony"},{name:"patio",label:"Patio"},{name:"bbq",label:"Barbecue"}]),safety:i("safety",[{name:"carbonMonoxideAlarm",label:"Carbon Monoxide Alarm"},{name:"smokeAlarm",label:"Smoke Alarm"},{name:"gasCertificate",label:"Gas Certificate"},{name:"eicrRates",label:"EICR Rates"}])},propertyTypeArray:[{name:"House",value:"house"},{name:"Bungalow",value:"bungalow"},{name:"Maisonette",value:"maisonette"},{name:"Apartment",value:"apartment"}],parkingArray:[{name:"On-Site Free",value:"on-site-free"},{name:"On-Site Chargeable",value:"on-site-chargeable"},{name:"Off-Site Free",value:"off-site-free"},{name:"Off-Site Chargeable",value:"off-site-chargeable"}],checkInOptions:[{name:"Meet & Greet",value:"meet-and-greet"},{name:"Key Box",value:"key-box"}],petsPolicyOptions:[{name:"Yes - Free Of Charge",value:"free"},{name:"Yes - Chargeable",value:"chargeable"},{name:"No",value:"no"}],bedConfigurationArray:[{name:"Single",value:"single"},{name:"Double",value:"double"},{name:"King",value:"king"},{name:"Sofa Bed",value:"sofa"},{name:"Cots",value:"cots"},{name:"Twins Single",value:"twins"}],bathroomConfigurationArray:[{name:"WC",value:"wc"},{name:"Walk In Shower",value:"walk-in-shower"},{name:"Wet Room",value:"wet-room"},{name:"Bath",value:"bath"},{name:"Bath + Shower In Bath",value:"bath-plus-shower"}],bathroomValueConfig:[{name:"0.5",value:"0.5"},{name:"1",value:"1"}],houseKeepingArray:[{name:"Daily - Included",value:"daily-included"},{name:"Daily - Extra Charge",value:"daily-extra-charge"},{name:"Weekly - Included",value:"weekly-included"},{name:"Weekly - Extra Charge",value:"weekly-extra-charge"},{name:"Fortnightly - Included",value:"fortnightly-included"},{name:"Fortnightly - Extra Charge",value:"fortnightly-extra-charge"},{name:"Upon Request - Included",value:"upon-request-included"},{name:"Upon Request - Extra Charge",value:"upon-request-extra-charge"}],statusConfigArray:[{name:"Live",value:"live"},{name:"Rejected",value:"rejected"},{name:"Booked",value:"booked"}],videoConfigArray:[{name:"Vimeo",value:"vimeo"},{name:"YouTube",value:"youtube"}]},s={type:"",floor:"",livePropertyLink:"",address:{number:"",street:"",city:"",zip:""},summary:{general:{parking:{isAvailable:!0,value:"parking"},petFriendly:{isAvailable:!0,value:"petFriendly"},tv:{isAvailable:!0,value:"tv"},wifi:{isAvailable:!0,value:"wifi"},ventilation:{isAvailable:!1,value:"ventilation"},workspace:{isAvailable:!0,value:"workspace"},elevator:{isAvailable:!1,value:"elevator"}},kitchen:{microwave:{isAvailable:!0,value:"microwave"},oven:{isAvailable:!0,value:"oven"},hob:{isAvailable:!0,value:"hob"},fridge:{isAvailable:!0,value:"fridge"},freezer:{isAvailable:!0,value:"freezer"},kettle:{isAvailable:!0,value:"kettle"},toaster:{isAvailable:!0,value:"toaster"},dishwasher:{isAvailable:!0,value:"dishwasher"}},laundry:{washingMachine:{isAvailable:!0,value:"washingMachine"},clothesHorse:{isAvailable:!0,value:"clothesHorse"},iron:{isAvailable:!0,value:"iron"},tumbleDryer:{isAvailable:!1,value:"tumbleDryer"}},outside:{garden:{isAvailable:!0,value:"garden"},balcony:{isAvailable:!0,value:"balcony"},patio:{isAvailable:!0,value:"patio"},bbq:{isAvailable:!0,value:"bbq"}},safety:{carbonMonoxideAlarm:{isAvailable:!0,value:"carbonMonoxideAlarm"},smokeAlarm:{isAvailable:!0,value:"smokeAlarm"},gasCertificate:{isAvailable:!0,value:"gasCertificate"},eicrRates:{isAvailable:!0,value:"eicrRates"}}},parkingType:{value:"off-site-chargeable"},checkInProcess:{value:"key-box"},petsPolicy:{value:"chargeable"},housekeeping:{value:"upon-request-extra-charge"},cancellation:"Non refundable",checkIn:"16:00",checkOut:"10:00",bedrooms:[{type:"bedroom",name:"Bedroom",beds:[{type:"single"}]}],livingRooms:[{type:"living-room",name:"Living Room",beds:[{type:"single"}]}],bathrooms:[{type:"wc",value:.5}],videos:[],sellingPoints:[{text:"All bills included. No extra charges"},{text:"Guests have exclusive usage of the property"}],landlord:{name:"",email:"",phone:"",nightlyRate:"",deposit:"",cleaningFee:"",parking:"",petFee:"",other:"",margin:"10"},external:{nightlyRate:"",deposit:"",cleaningFee:"",parking:"",petFee:"",other:""}}}}]);
//# sourceMappingURL=298.d1005256.chunk.js.map