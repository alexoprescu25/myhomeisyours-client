"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[607],{9540:(e,r,a)=>{a.d(r,{GW:()=>F,ED:()=>y});const s={field__rounded:"FieldArray_field__rounded__D71XA","heading-primary":"FieldArray_heading-primary__azKQR",field__item:"FieldArray_field__item__12R84",field__actions:"FieldArray_field__actions__D5g06",field__header:"FieldArray_field__header__tCW4l"};var t=a(4858),l=a(9542);const n="NestedArray_field__rounded__F4+e5",o="NestedArray_field__19SaI",i="NestedArray_field__item__BmxLt",d="NestedArray_field__actions__AvsuL",p="NestedArray_field__label__BZNTx";var c=a(579);const _=[{name:"Single",value:"single"},{name:"Double",value:"double"},{name:"King",value:"king"},{name:"Sofa Bed",value:"sofa"},{name:"Cots",value:"cots"},{name:"Twins Single",value:"twins"}],m=e=>{let{nestIndex:r,control:a,name:s,value:m,single:y}=e;const{fields:u,remove:h,append:x}=(0,t.jz)({control:a,name:"".concat(m,".").concat(r,".beds")});return(0,c.jsxs)("div",{className:o,children:[u.map(((e,s)=>(0,c.jsxs)("div",{style:{marginLeft:20},children:[(0,c.jsxs)("p",{className:p,children:["Bed ",s+1," "]}),(0,c.jsxs)("div",{className:i,children:[(0,c.jsx)(t.xI,{control:a,name:"".concat(m,".").concat(r,".beds.").concat(s,".type"),render:e=>{let{field:r}=e;return(0,c.jsx)(l.l6,{...r,optionsArray:_})}}),(0,c.jsxs)("div",{className:d,children:[(0,c.jsx)("button",{className:n,type:"button",onClick:()=>x({type:"single"}),children:"+"}),(0,c.jsx)("button",{className:n,type:"button",onClick:()=>{0!==s&&h(s)},children:"-"})]})]})]},e.id))),(0,c.jsx)("hr",{})]})};const y=e=>{let{control:r,register:a,name:n,value:o,single:i}=e;const{fields:d,append:p,remove:_}=(0,t.jz)({control:r,name:o});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:s.field__header,children:[(0,c.jsxs)(l.hE,{children:[" ",n," "]}),(0,c.jsx)("button",{className:s.field__rounded,type:"button",onClick:()=>{p({type:i,name:"".concat(n," ").concat(d.length+1),beds:[{type:"single"}]})},children:"+"})]}),(0,c.jsx)("ul",{className:s.field,children:d.map(((e,t)=>(0,c.jsxs)("li",{className:s.field__section,children:[(0,c.jsxs)("p",{children:[n," ",t+1]}),(0,c.jsxs)("div",{className:s.field__item,children:[(0,c.jsx)(l.pd,{label:n,...a("".concat(o,".").concat(t,".name")),value:"".concat(n," ").concat(t+1)}),(0,c.jsxs)("div",{className:s.field__actions,children:[(0,c.jsx)("button",{className:s.field__rounded,type:"button",onClick:()=>{p({type:i,name:"".concat(n," ").concat(d.length+1),beds:[{type:"single"}]})},children:"+"}),(0,c.jsx)("button",{className:s.field__rounded,type:"button",onClick:()=>{"livingRooms"!==o&&0===t||_(t)},children:"-"})]})]}),(0,c.jsx)(m,{name:n,value:o,single:i,nestIndex:t,control:r,register:a})]},e.id)))})]})};var u=a(5043);const h={property__addresses:"CreatePropertyForm_property__addresses__X3HpV",section__buttons:"CreatePropertyForm_section__buttons__pqq6Q",property__searchAgain:"CreatePropertyForm_property__searchAgain__PjL6B","heading-primary":"CreatePropertyForm_heading-primary__71bWR",property:"CreatePropertyForm_property__+VRFr",property__heading:"CreatePropertyForm_property__heading__ZVnTw",property__warning:"CreatePropertyForm_property__warning__xRlJt",property__step:"CreatePropertyForm_property__step__hwEtr",property__address:"CreatePropertyForm_property__address__EFolD",property__basicInformation:"CreatePropertyForm_property__basicInformation__iphii",property__utilities:"CreatePropertyForm_property__utilities__Mw5m4",property__checkboxes:"CreatePropertyForm_property__checkboxes__lNsB7",property__summaryItems:"CreatePropertyForm_property__summaryItems__vtcyS",property__landlord:"CreatePropertyForm_property__landlord__tnVzL",property__submit:"CreatePropertyForm_property__submit__SK8B8","property__addresses-container":"CreatePropertyForm_property__addresses-container__ORa3z",property__disclaimer:"CreatePropertyForm_property__disclaimer__SKVRv",property__field:"CreatePropertyForm_property__field__Nr7dZ",property__dropdown:"CreatePropertyForm_property__dropdown__yzrPj",property__dropdownItem:"CreatePropertyForm_property__dropdownItem__3b07s",property__videos:"CreatePropertyForm_property__videos__p56DA",property__video:"CreatePropertyForm_property__video__jsP3x",section__container:"CreatePropertyForm_section__container__byWTA",property__icon:"CreatePropertyForm_property__icon__dTUT0",property__title:"CreatePropertyForm_property__title__103Vj",property__search:"CreatePropertyForm_property__search__Lg3dv",property__selectedProperty:"CreatePropertyForm_property__selectedProperty__Uv+sy",property__sellingPoints:"CreatePropertyForm_property__sellingPoints__tXh2O",property__point:"CreatePropertyForm_property__point__EhxBd"};var x=a(8139),v=a.n(x),g=a(2494),b=a(3910),j=a(7929),f=a(3977),N=a(6213),C=a.n(N),k=a(9996),A=(a(7590),a(3003)),P=a(3538);const F=e=>{let{onSubmitData:r,config:a,initialState:s,edit:n=!1,isLoading:o}=e;const[i,d]=(0,u.useState)(!1),[p,_]=(0,u.useState)(null),[m,x]=(0,u.useState)(null),[N,F]=(0,u.useState)(""),{quill:w,quillRef:S}=(0,k.l)({modules:{toolbar:[["bold","italic","underline","strike"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],["clean"]],clipboard:{matchVisual:!1}},formats:["size","bold","script"]}),I=(0,A.wA)(),{watch:B,control:q,register:E,getValues:T,setValue:O,handleSubmit:L,formState:{errors:R}}=(0,t.mN)({defaultValues:s}),{fields:D,append:V,remove:M}=(0,t.jz)({name:"bathrooms",control:q}),z=()=>{V({type:"wc",value:.5})},{fields:K,append:W,remove:H}=(0,t.jz)({name:"sellingPoints",control:q}),Q=()=>{W({text:""})};return(0,u.useEffect)((()=>{w&&w.on("text-change",(()=>{F(w.root.innerHTML)}))}),[w]),(0,u.useEffect)((()=>{O("external.nightlyRate",(e=>{const r=B("landlord.margin");return(Number(e)+Number(r)/100*Number(e)).toFixed(2)})(B("landlord.nightlyRate"))),O("external.cleaningFee",B("landlord.cleaningFee")),O("external.parking",B("landlord.parking")),O("external.deposit",B("landlord.deposit"))}),[B("landlord.margin"),B("landlord.nightlyRate"),B("landlord.cleaningFee"),B("landlord.parking"),B("landlord.deposit")]),(0,u.useEffect)((()=>{w&&s.description&&w.clipboard.dangerouslyPasteHTML(s.description)}),[w]),(0,u.useEffect)((()=>{s.address&&s.address.position&&x({address:{freeformAddress:s.address.freeFormAddress},position:{lat:s.address.position.coordinates[1],lon:s.address.position.coordinates[0]}})}),[]),(0,c.jsx)(u.Fragment,{children:(0,c.jsxs)(l.uA,{className:h.property,children:[(0,c.jsx)("p",{className:h.property__warning,children:"All fields marked with * are required."}),(0,c.jsxs)("form",{onSubmit:L((async e=>{if(!m)return I((0,P.Q)({type:"error",text:'Before you can continue with the form, please press "Search Address" to select your address.'}));try{const a={...e};a.address.freeFormAddress=m.address.freeformAddress,a.description=C().sanitize(N),a.address.position={type:"Point",coordinates:[m.position.lon,m.position.lat]},r(a)}catch(a){console.log(a)}})),children:[(0,c.jsx)(l.hE,{children:"Basic Information"}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__basicInformation),children:[(0,c.jsx)(l.pd,{label:"Property Name",name:"name",register:E,rules:{required:"Property name is required"},errors:R,required:!0}),(0,c.jsx)(t.xI,{name:"type",control:q,rules:{required:"Property type is required"},render:e=>{let{field:r}=e;return(0,c.jsx)(l.l6,{...r,optionsArray:a.propertyTypeArray,errors:R,defaultValue:"Property Type",required:!0})}}),"apartment"===B("type")&&(0,c.jsx)(t.xI,{name:"floor",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"number",label:"Floor",...r})}})]}),(0,c.jsx)(l.hE,{children:"Description"}),(0,c.jsx)("div",{style:{width:"100%",height:200,marginBottom:"60px"},children:(0,c.jsx)("div",{ref:S})}),(0,c.jsx)(l.hE,{children:"Address"}),m?(0,c.jsxs)("div",{className:h.property__selectedProperty,children:[(0,c.jsx)("div",{className:h.property__icon,children:(0,c.jsx)(b.g,{icon:j.gKm})}),(0,c.jsxs)("p",{children:[" ",m.address.freeformAddress," "]}),(0,c.jsx)("button",{className:h.property__searchAgain,onClick:()=>{O("address",s.address),_(null),x(null)},children:(0,c.jsx)(b.g,{icon:j.$3Z})})]}):(0,c.jsxs)(u.Fragment,{children:[(0,c.jsxs)("div",{className:v()(h.property__step,h.property__address),children:[(0,c.jsx)(t.xI,{name:"address.number",rules:{required:"Number is required"},control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{label:"Number",...r,errors:R,required:!0})}}),(0,c.jsx)(t.xI,{name:"address.street",rules:{required:"Street is required"},control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{label:"Street",...r,errors:R,required:!0})}}),(0,c.jsx)(t.xI,{name:"address.city",rules:{required:"City is required"},control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{label:"City",...r,errors:R,required:!0})}}),(0,c.jsx)(t.xI,{name:"address.zip",rules:{required:"Postal Code is required"},control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{label:"Postal Code",...r,errors:R,required:!0})}})]}),(0,c.jsx)("div",{className:h.property__search,children:(0,c.jsx)(l.$n,{type:"button",mode:"main",onClick:async()=>{d(!0);const e=Object.values(T("address")).join(", ");try{const r=await(0,f.t)(e);r&&200===r.status&&(r.data.results.length>1?(console.log("response.data.results",r.data.results),_(r.data.results)):x(r.data.results[0]))}catch(r){console.log(r)}finally{d(!1)}},isLoading:i,children:"Search Address"})}),p&&(0,c.jsxs)("div",{className:h.property__addresses,children:[(0,c.jsx)("div",{className:h.property__disclaimer,children:(0,c.jsx)("p",{children:"We found several matches for your address. Please select the correct one."})}),(0,c.jsx)("div",{className:h["property__addresses-container"],children:p.map((e=>(0,c.jsx)(g.N8,{address:e,onSelect:e=>x(e)},e.id)))})]})]}),(0,c.jsxs)("div",{className:h.property__dropdown,children:[(0,c.jsx)("div",{className:h.property__dropdownItem,children:(0,c.jsx)(y,{name:"Bedroom",value:"bedrooms",single:"bedroom",control:q,register:E,initialState:s,getValues:T,setValue:O,errors:R})}),(0,c.jsxs)("div",{className:h.property__dropdownItem,children:[(0,c.jsx)(l.hE,{children:"Bathrooms"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__fields),children:D.map(((e,r)=>(0,c.jsx)("div",{className:h.property__field,children:(0,c.jsxs)("section",{className:h.section,children:[(0,c.jsxs)("p",{className:h.section__heading,children:["Bathroom ",Number(r+1)," "]}),(0,c.jsxs)("div",{className:h.section__container,children:[(0,c.jsx)(t.xI,{control:q,name:"bathrooms.".concat(r,".type"),render:e=>{var s,t;let{field:n}=e;return(0,c.jsx)(l.l6,{...n,optionsArray:a.bathroomConfigurationArray,onChange:e=>{const{value:a}=e.target;n.onChange(a),((e,r)=>{const a="wc"===e?.5:1;O("bathrooms.".concat(r,".value"),a)})(a,r)},className:null!==R&&void 0!==R&&null!==(s=R.bedrooms)&&void 0!==s&&null!==(t=s[r])&&void 0!==t&&t.type?"error":""})}}),(0,c.jsxs)("div",{className:h.section__buttons,children:[(0,c.jsx)("button",{type:"button",onClick:z,children:"+"}),(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{e<=0||M(e)})(r),children:"-"})]})]})]},e.id)},e.id)))})]})]}),(0,c.jsxs)("div",{className:h.property__dropdown,children:[(0,c.jsx)("div",{className:h.property__dropdownItem,children:(0,c.jsx)(y,{name:"Living Room",value:"livingRooms",single:"living-room",control:q,register:E,initialState:s,getValues:T,setValue:O,errors:R})}),(0,c.jsx)("div",{className:h.property__dropdownItem})]}),(0,c.jsx)(l.hE,{children:"Check In - Check Out"}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__basicInformation),children:[(0,c.jsx)(t.xI,{name:"checkIn",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"time",label:"Check In Time",...r})}}),(0,c.jsx)(t.xI,{name:"checkOut",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"time",label:"Check Out Time",...r})}})]}),(0,c.jsx)(l.hE,{children:"Utilities"}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__utilities),children:[(0,c.jsx)(t.xI,{name:"parkingType.value",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.l6,{...r,showPlaceholder:!0,optionsArray:a.parkingArray,errors:R,defaultValue:"Parking"})}}),(0,c.jsx)(t.xI,{name:"checkInProcess.value",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.l6,{...r,showPlaceholder:!0,optionsArray:a.checkInOptions,errors:R,defaultValue:"Check In Process"})}})]}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__utilities),children:[(0,c.jsx)(t.xI,{name:"petsPolicy.value",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.l6,{...r,showPlaceholder:!0,optionsArray:a.petsPolicyOptions,errors:R,defaultValue:"Pets"})}}),(0,c.jsx)(t.xI,{name:"housekeeping.value",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.l6,{...r,showPlaceholder:!0,optionsArray:a.houseKeepingArray,errors:R,defaultValue:"Housekeeping"})}})]}),(0,c.jsx)(l.hE,{children:"Cancellation Policy"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__utilities),children:(0,c.jsx)(t.xI,{name:"cancellation",rules:{required:!0},control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{required:!0,label:"Cancellation Policy",...r})}})}),(0,c.jsx)(l.hE,{image:"chain",children:"Live Property Link"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__basicInformation),children:(0,c.jsx)(l.pd,{label:"Live External Link",name:"livePropertyLink",register:E})}),(0,c.jsx)(l.hE,{children:"Summary"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__checkboxes),children:a.summary.general.map(((e,r)=>(0,c.jsx)(t.xI,{name:e.value,control:q,render:r=>{let{field:a}=r;return(0,c.jsx)(l.eK,{id:e.name,checked:B(e.value),label:e.label,...a,icon:e.icon})}},r)))}),(0,c.jsx)(l.hE,{children:"Kitchen"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__checkboxes),children:a.summary.kitchen.map(((e,r)=>(0,c.jsx)(t.xI,{name:e.value,control:q,render:r=>{let{field:a}=r;return(0,c.jsx)(l.eK,{id:e.name,checked:B(e.value),label:e.label,...a,icon:e.icon})}},r)))}),(0,c.jsx)(l.hE,{children:"Laundry"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__checkboxes),children:a.summary.laundry.map(((e,r)=>(0,c.jsx)(t.xI,{name:e.value,control:q,render:r=>{let{field:a}=r;return(0,c.jsx)(l.eK,{id:e.name,checked:B(e.value),label:e.label,...a,icon:e.icon})}},r)))}),(0,c.jsx)(l.hE,{children:"Outside Space"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__checkboxes),children:a.summary.outside.map(((e,r)=>(0,c.jsx)(t.xI,{name:e.value,control:q,render:r=>{let{field:a}=r;return(0,c.jsx)(l.eK,{id:e.name,checked:B(e.value),label:e.label,...a,icon:e.icon})}},r)))}),(0,c.jsx)(l.hE,{children:"Safety"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__checkboxes),children:a.summary.safety.map(((e,r)=>(0,c.jsx)(t.xI,{name:e.value,control:q,render:r=>{let{field:a}=r;return(0,c.jsx)(l.eK,{id:e.name,checked:B(e.value),label:e.label,...a,icon:e.icon})}},r)))}),(0,c.jsxs)("div",{className:h.property__dropdownItem,children:[(0,c.jsx)(l.hE,{children:"Selling Points"}),(0,c.jsx)("div",{className:v()(h.property__step,h.property__sellingPoints),children:K.map(((e,r)=>(0,c.jsx)("div",{className:v()(h.property__field,h.property__point),children:(0,c.jsxs)("section",{className:h.section,children:[(0,c.jsxs)("p",{className:h.section__heading,children:["Selling Point ",Number(r+1)," "]}),(0,c.jsxs)("div",{className:h.section__container,children:[(0,c.jsx)(t.xI,{control:q,name:"sellingPoints.".concat(r,".text"),render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{...r,label:"Text"})}}),(0,c.jsxs)("div",{className:h.section__buttons,children:[(0,c.jsx)("button",{type:"button",onClick:Q,children:"+"}),(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{H(e)})(r),children:"-"})]})]})]},e.id)},e.id)))})]}),(0,c.jsx)(l.hE,{children:"Landlord Cost"}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(l.pd,{label:"Landlord Name",name:"landlord.name",register:E}),(0,c.jsx)(l.pd,{label:"Landlord Email",name:"landlord.email",register:E})]}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(l.pd,{label:"Landlord Phone",name:"landlord.phone",register:E}),(0,c.jsx)(t.xI,{name:"landlord.nightlyRate",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Nightly Rate",...r})}})]}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(t.xI,{name:"landlord.deposit",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Deposit",...r})}}),(0,c.jsx)(t.xI,{name:"landlord.cleaningFee",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Cleaning Fee",...r})}})]}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(t.xI,{name:"landlord.parking",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Parking",...r})}}),(0,c.jsx)(t.xI,{name:"landlord.petFee",control:q,render:e=>{let{field:r}=e;return(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Pet Fee",...r})}})]}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(l.pd,{type:"number",step:"0.01",label:"Other",name:"landlord.other",register:E}),(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.Bi7,label:"Margin",name:"landlord.margin",register:E})]}),(0,c.jsx)(l.hE,{children:"Standard Quote Out Costs"}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Standard MHIY Nightly Rate",name:"external.nightlyRate",register:E}),(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Deposit",name:"external.deposit",register:E})]}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Parking",name:"external.parking",register:E}),(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Cleaning Fee",name:"external.cleaningFee",register:E})]}),(0,c.jsxs)("div",{className:v()(h.property__step,h.property__landlord),children:[(0,c.jsx)(l.pd,{type:"number",step:"0.01",icon:j.vfE,label:"Pet Fee",name:"external.petFee",register:E}),(0,c.jsx)(l.pd,{type:"number",step:"0.01",label:"Other",name:"external.other",register:E})]}),(0,c.jsx)("div",{className:h.property__submit,children:(0,c.jsxs)(l.$n,{type:"submit",mode:"main",isLoading:o,children:[n?"Edit":"Create"," Property"]})})]})]})})}},2494:(e,r,a)=>{a.d(r,{N8:()=>d,y$:()=>q,IW:()=>S});const s={"heading-primary":"AddressCard_heading-primary__kgQEs",address:"AddressCard_address__ZDJ1F",address__confidence:"AddressCard_address__confidence__D3ov4",address__address:"AddressCard_address__address__Wuq20","address__percentage--danger":"AddressCard_address__percentage--danger__3SFat","address__percentage--warning":"AddressCard_address__percentage--warning__1jP5b","address__percentage--info":"AddressCard_address__percentage--info__5XEbO","address__percentage--success":"AddressCard_address__percentage--success__YNWVL","address--active":"AddressCard_address--active__76B0T"};var t=a(3910),l=a(7929),n=a(8139),o=a.n(n),i=a(579);const d=e=>{let{address:r,isActive:a,onSelect:n}=e;return(0,i.jsx)("div",{onClick:()=>{n(r)},className:o()(s.address,{[s["address--active"]]:a}),children:(0,i.jsx)("div",{className:s.address__container,children:(0,i.jsxs)("div",{className:s.address__string,children:[(0,i.jsxs)("div",{className:s.address__address,children:[(0,i.jsx)(t.g,{icon:l.gKm}),(0,i.jsxs)("p",{children:[" ",r.address.freeformAddress," "]})]}),(0,i.jsxs)("p",{className:s.address__confidence,children:["Match Confidence: ",(0,i.jsxs)("span",{className:s["address__percentage--".concat((()=>{if(!r.matchConfidence.score)return;const e=Number((100*r.matchConfidence.score).toFixed(0));return e?e>=0&&e<=25?"danger":e>25&&e<=50?"warning":e>50&&e<=75?"info":e>75?"success":void 0:void 0})())],children:[" ",(100*r.matchConfidence.score).toFixed(2),"% "]})]})]})})})};var p=a(5043),c=a(5475),_=a(3216);const m="SearchBar_search__UvOm0",y="SearchBar_search__header__bBL4G",u="SearchBar_search__heading__J6z-I",h="SearchBar_search__text__fosrb",x="SearchBar_search__container__FoIGx",v="SearchBar_search__top__SQpSQ",g="SearchBar_search__bottom__hQ-M2",b="SearchBar_search__checkboxes__rkee4",j="SearchBar_search__form__lnZDw",f="SearchBar_search__distance__2QPTW",N="SearchBar_search__clear__3HYke",C="SearchBar_search__buttons__BIjyk";var k=a(9542),A=a(4858);const P={queryString:"",maxDistance:"",numberOfBedrooms:"",numberOfBathrooms:"",propertyType:"",petFriendly:!1,walkInShower:!1,groundFloor:!1},F=[{name:"5 Miles",value:"8000"},{name:"10 Miles",value:"16000"},{name:"15 Miles",value:"24000"},{name:"20 Miles",value:"32000"}],w=[{name:"House",value:"house"},{name:"Bungalow",value:"bungalow"},{name:"Maisonette",value:"maisonette"},{name:"Apartment",value:"apartment"}],S=e=>{let{isLoading:r,onSave:a,onClear:s}=e;const{watch:t,reset:n,control:o,register:d,setValue:S,handleSubmit:I,formState:{errors:B}}=(0,A.mN)({defaultValues:P}),[q,E]=(0,c.ok)(),T=(0,_.Zp)();return(0,p.useEffect)((()=>{const e=q.get("queryString"),r=q.get("maxDistance"),a=q.get("bedrooms"),s=q.get("bathrooms"),t=q.get("propertyType"),l=q.get("petFriendly"),n=q.get("walkInShower"),o=q.get("groundFloor");e&&S("queryString",e),r&&S("maxDistance",r),a&&S("numberOfBedrooms",a),s&&S("numberOfBathrooms",s),t&&S("propertyType",t),l&&/true/.test(l)?S("petFriendly",!0):S("petFriendly",!1),n&&/true/.test(n)?S("walkInShower",!0):S("walkInShower",!1),o&&/true/.test(o)?S("groundFloor",!0):S("groundFloor",!1)}),[]),(0,i.jsxs)("div",{className:m,children:[(0,i.jsxs)("div",{className:y,children:[(0,i.jsx)("p",{className:u,children:"Nearby Search"}),(0,i.jsx)("p",{className:h,children:"Need to find something nearby? Just enter your address and choose a maximum distance to see the best local options!"})]}),(0,i.jsx)("div",{className:x,children:(0,i.jsxs)("form",{onSubmit:I((async e=>{T("?queryString=".concat(e.queryString,"&maxDistance=").concat(e.maxDistance,"&propertyType=").concat(e.propertyType,"&bedrooms=").concat(e.numberOfBedrooms,"&bathrooms=").concat(e.numberOfBathrooms,"&petFriendly=").concat(e.petFriendly,"&walkInShower=").concat(e.walkInShower,"&groundFloor=").concat(e.groundFloor)),a(e)})),className:j,children:[(0,i.jsxs)("div",{className:v,children:[(0,i.jsx)(k.pd,{label:"Address / Postcode",name:"queryString",register:d,rules:{required:"Address is required"},errors:B,icon:l.$UM,required:!0}),(0,i.jsx)("div",{className:f,children:(0,i.jsx)(A.xI,{name:"maxDistance",control:o,rules:{required:"Distance is required"},render:e=>{let{field:r}=e;return(0,i.jsx)(k.l6,{...r,optionsArray:F,errors:B,defaultValue:"Max Distance"})}})})]}),(0,i.jsxs)("div",{className:g,children:[(0,i.jsx)(k.pd,{type:"number",label:"Bedrooms",name:"numberOfBedrooms",register:d}),(0,i.jsx)(k.pd,{type:"number",label:"Bathrooms",name:"numberOfBathrooms",register:d}),(0,i.jsx)(A.xI,{name:"propertyType",control:o,render:e=>{let{field:r}=e;return(0,i.jsx)(k.l6,{...r,optionsArray:w,defaultValue:"Property Type"})}})]}),(0,i.jsxs)("div",{className:b,children:[(0,i.jsx)(A.xI,{name:"petFriendly",control:o,render:e=>{let{field:r}=e;return(0,i.jsx)(k.Sc,{id:"petFriendly",checked:t("petFriendly"),label:"Pet Friendly",...r})}}),(0,i.jsx)(A.xI,{name:"walkInShower",control:o,render:e=>{let{field:r}=e;return(0,i.jsx)(k.Sc,{id:"walkInShower",checked:t("walkInShower"),label:"Walk In Shower",...r})}}),(0,i.jsx)(A.xI,{name:"groundFloor",control:o,render:e=>{let{field:r}=e;return(0,i.jsx)(k.Sc,{id:"groundFloor",checked:t("groundFloor"),label:"Ground Floor",...r})}})]}),(0,i.jsxs)("div",{className:C,children:[(0,i.jsx)(k.$n,{type:"submit",mode:"main",isLoading:r,children:"Search"}),(0,i.jsx)("a",{href:"#",className:N,onClick:()=>{E(""),n(),s()},children:"Clear Filters"})]})]})})]})},I={"heading-primary":"PropertyCard_heading-primary__CC+7Q",property:"PropertyCard_property__2h9xd",property__title:"PropertyCard_property__title__RAWY+",property__status:"PropertyCard_property__status__PbF-Z",property__link:"PropertyCard_property__link__lXxy3",property__image:"PropertyCard_property__image__OjszW",property__details:"PropertyCard_property__details__JKDJU","property__status--title":"PropertyCard_property__status--title__iKoo9","property__status--active":"PropertyCard_property__status--active__atb5u","property__status--inactive":"PropertyCard_property__status--inactive__SfbD4",property__address:"PropertyCard_property__address__auPiA","property__address--freeForm":"PropertyCard_property__address--freeForm__lLfYG","property__address--propertyType":"PropertyCard_property__address--propertyType__4YZBN",property__summary:"PropertyCard_property__summary__oyPlB","property__summary--item":"PropertyCard_property__summary--item__I0pmW","property__summary--itemLight":"PropertyCard_property__summary--itemLight__RqVKb","property__summary--itemBold":"PropertyCard_property__summary--itemBold__0ma-2"};var B=a(4997);const q=e=>{let{item:r}=e;return(0,i.jsxs)("div",{className:I.property,children:[(0,i.jsx)("div",{className:I.property__image,children:r.images&&r.images.length>0?(0,i.jsx)("img",{src:r.images[0].url,alt:r.images[0].name,loading:"lazy"},r.images[0]._id):(0,i.jsx)("img",{src:"/images/random-house.jpg",loading:"lazy",alt:""})}),(0,i.jsxs)("div",{className:I.property__details,children:[(0,i.jsxs)("div",{className:I.property__status,children:[(0,i.jsx)("div",{className:I.property__title,children:(0,i.jsx)(c.N_,{to:"/dashboard/properties/list/".concat(r._id.toString()),children:r.name})}),r.isActive?(0,i.jsx)("p",{className:I["property__status--active"],children:"Active"}):(0,i.jsx)("p",{className:I["property__status--inactive"],children:"Inactive"})]}),(0,i.jsx)("div",{className:I.property__public}),(0,i.jsxs)("div",{className:I.property__address,children:[(0,i.jsxs)("p",{className:I["property__address--freeForm"],children:[" ",(0,i.jsx)(t.g,{icon:l.gKm})," ",r.address.freeFormAddress]}),(0,i.jsxs)("p",{className:I["property__address--propertyType"],children:[B.s4.propertyType[r.type]&&(0,i.jsx)(t.g,{icon:B.s4.propertyType[r.type].icon}),B.s4.propertyType[r.type]&&B.s4.propertyType[r.type].name]})]}),(0,i.jsxs)("div",{className:I.property__summary,children:[(0,i.jsxs)("div",{className:I["property__summary--item"],children:[(0,i.jsx)("p",{className:I["property__summary--itemBold"],children:r.numberOfBedrooms}),(0,i.jsx)("p",{className:I["property__summary--itemLight"],children:"Bedrooms"})]}),(0,i.jsxs)("div",{className:I["property__summary--item"],children:[(0,i.jsx)("p",{className:I["property__summary--itemBold"],children:r.numberOfBeds}),(0,i.jsx)("p",{className:I["property__summary--itemLight"],children:"Beds"})]}),(0,i.jsxs)("div",{className:I["property__summary--item"],children:[(0,i.jsx)("p",{className:I["property__summary--itemBold"],children:r.numberOfBathrooms}),(0,i.jsx)("p",{className:I["property__summary--itemLight"],children:"Bathrooms"})]})]})]})]})}},3977:(e,r,a)=>{a.d(r,{t:()=>l});var s=a(6717),t=a(4997);const l=async e=>await(0,s.F)("/map/geo-location",{method:t.y8.POST,data:JSON.stringify({query:e})})},7198:(e,r,a)=>{a.d(r,{$:()=>l,u:()=>n});const s=(e,r)=>r.map((r=>{let{name:a,label:s}=r;return((e,r,a)=>({name:r,value:"summary.".concat(e,".").concat(r,".isAvailable"),label:a,rules:{},icon:{type:"image",path:"".concat(t,"/").concat(r,".png")}}))(e,a,s)})),t="/images/icons",l={summary:{general:s("general",[{name:"workspace",label:"Workspace"},{name:"parking",label:"Parking"},{name:"petFriendly",label:"Pet Friendly"},{name:"tv",label:"TV"},{name:"wifi",label:"Wi-Fi"},{name:"ventilation",label:"Ventilation"},{name:"elevator",label:"Lift"}]),kitchen:s("kitchen",[{name:"microwave",label:"Microwave"},{name:"oven",label:"Oven"},{name:"hob",label:"Hob"},{name:"fridge",label:"Fridge"},{name:"freezer",label:"Freezer"},{name:"kettle",label:"Kettle"},{name:"toaster",label:"Toaster"},{name:"dishwasher",label:"Dishwasher"}]),laundry:s("laundry",[{name:"washingMachine",label:"Washing Machine"},{name:"clothesHorse",label:"Clothes Horse"},{name:"iron",label:"Iron"},{name:"tumbleDryer",label:"Tumble Dryer"}]),outside:s("outside",[{name:"garden",label:"Garden"},{name:"balcony",label:"Balcony"},{name:"patio",label:"Patio"},{name:"bbq",label:"Barbecue"}]),safety:s("safety",[{name:"carbonMonoxideAlarm",label:"Carbon Monoxide Alarm"},{name:"smokeAlarm",label:"Smoke Alarm"},{name:"gasCertificate",label:"Gas Certificate"},{name:"eicrRates",label:"EICR Rates"}])},propertyTypeArray:[{name:"House",value:"house"},{name:"Bungalow",value:"bungalow"},{name:"Maisonette",value:"maisonette"},{name:"Apartment",value:"apartment"}],parkingArray:[{name:"On-Site Free",value:"on-site-free"},{name:"On-Site Chargeable",value:"on-site-chargeable"},{name:"Off-Site Free",value:"off-site-free"},{name:"Off-Site Chargeable",value:"off-site-chargeable"}],checkInOptions:[{name:"Meet & Greet",value:"meet-and-greet"},{name:"Key Box",value:"key-box"}],petsPolicyOptions:[{name:"Yes - Free Of Charge",value:"free"},{name:"Yes - Chargeable",value:"chargeable"},{name:"No",value:"no"}],bedConfigurationArray:[{name:"Single",value:"single"},{name:"Double",value:"double"},{name:"King",value:"king"},{name:"Sofa Bed",value:"sofa"},{name:"Cots",value:"cots"},{name:"Twins Single",value:"twins"}],bathroomConfigurationArray:[{name:"WC",value:"wc"},{name:"Walk In Shower",value:"walk-in-shower"},{name:"Wet Room",value:"wet-room"},{name:"Bath",value:"bath"},{name:"Bath + Shower In Bath",value:"bath-plus-shower"}],bathroomValueConfig:[{name:"0.5",value:"0.5"},{name:"1",value:"1"}],houseKeepingArray:[{name:"Daily - Included",value:"daily-included"},{name:"Daily - Extra Charge",value:"daily-extra-charge"},{name:"Weekly - Included",value:"weekly-included"},{name:"Weekly - Extra Charge",value:"weekly-extra-charge"},{name:"Fortnightly - Included",value:"fortnightly-included"},{name:"Fortnightly - Extra Charge",value:"fortnightly-extra-charge"},{name:"Upon Request - Included",value:"upon-request-included"},{name:"Upon Request - Extra Charge",value:"upon-request-extra-charge"}],statusConfigArray:[{name:"Live",value:"live"},{name:"Rejected",value:"rejected"},{name:"Booked",value:"booked"}],videoConfigArray:[{name:"Vimeo",value:"vimeo"},{name:"YouTube",value:"youtube"}]},n={type:"",floor:"",livePropertyLink:"",address:{number:"",street:"",city:"",zip:""},summary:{general:{parking:{isAvailable:!0,value:"parking"},petFriendly:{isAvailable:!0,value:"petFriendly"},tv:{isAvailable:!0,value:"tv"},wifi:{isAvailable:!0,value:"wifi"},ventilation:{isAvailable:!1,value:"ventilation"},workspace:{isAvailable:!0,value:"workspace"},elevator:{isAvailable:!1,value:"elevator"}},kitchen:{microwave:{isAvailable:!0,value:"microwave"},oven:{isAvailable:!0,value:"oven"},hob:{isAvailable:!0,value:"hob"},fridge:{isAvailable:!0,value:"fridge"},freezer:{isAvailable:!0,value:"freezer"},kettle:{isAvailable:!0,value:"kettle"},toaster:{isAvailable:!0,value:"toaster"},dishwasher:{isAvailable:!0,value:"dishwasher"}},laundry:{washingMachine:{isAvailable:!0,value:"washingMachine"},clothesHorse:{isAvailable:!0,value:"clothesHorse"},iron:{isAvailable:!0,value:"iron"},tumbleDryer:{isAvailable:!1,value:"tumbleDryer"}},outside:{garden:{isAvailable:!0,value:"garden"},balcony:{isAvailable:!0,value:"balcony"},patio:{isAvailable:!0,value:"patio"},bbq:{isAvailable:!0,value:"bbq"}},safety:{carbonMonoxideAlarm:{isAvailable:!0,value:"carbonMonoxideAlarm"},smokeAlarm:{isAvailable:!0,value:"smokeAlarm"},gasCertificate:{isAvailable:!0,value:"gasCertificate"},eicrRates:{isAvailable:!0,value:"eicrRates"}}},parkingType:{value:"off-site-chargeable"},checkInProcess:{value:"key-box"},petsPolicy:{value:"chargeable"},housekeeping:{value:"upon-request-extra-charge"},cancellation:"Non refundable",checkIn:"16:00",checkOut:"10:00",bedrooms:[{type:"bedroom",name:"Bedroom",beds:[{type:"single"}]}],livingRooms:[{type:"living-room",name:"Living Room",beds:[{type:"single"}]}],bathrooms:[{type:"wc",value:.5}],videos:[],sellingPoints:[{text:"All bills included. No extra charges"},{text:"Guests have exclusive usage of the property"}],landlord:{name:"",email:"",phone:"",nightlyRate:"",deposit:"",cleaningFee:"",parking:"",petFee:"",other:"",margin:"10"},external:{nightlyRate:"",deposit:"",cleaningFee:"",parking:"",petFee:"",other:""}}}}]);
//# sourceMappingURL=607.d2046704.chunk.js.map